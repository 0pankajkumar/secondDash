<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01//EN" "http://www.w3.org/TR/html4/strict.dtd">
<html lang="en">

<head>
    <link href="dist/css/customStyle.css" rel="stylesheet">
    <link href="dist/css/tabulator.min.css" rel="stylesheet">
    <link href="dist/css/funnelStyles.css" rel="stylesheet">
    <link href="dist/css/uploaderStyles.css" rel="stylesheet">
    <link href="dist/css/dropdownStyles.css" rel="stylesheet">
    <script type="text/javascript" src="dist/js/tabulator.min.js"></script>
    <link href="https://fonts.googleapis.com/css?family=Ubuntu&display=swap" rel="stylesheet">





    <!-- For dropdown -->
    <link rel="stylesheet" href="https://code.jquery.com/ui/1.12.1/themes/base/jquery-ui.css">
    <style>
        .custom-combobox {
            position: relative;
            display: inline-block;
        }

        .custom-combobox-toggle {
            position: absolute;
            top: 0;
            bottom: 0;
            margin-left: -1px;
            padding: 0;
        }

        .custom-combobox-input {
            margin: 0;
            padding: 5px 10px;
        }
    </style>
    <script src="https://code.jquery.com/jquery-1.12.4.js"></script>
    <script src="https://code.jquery.com/ui/1.12.1/jquery-ui.js"></script>
    <script src="dist/js/dropdown.js"></script>

    <!-- Resources for charts-->
    <script type="text/javascript" src="dist/js/d3.js"></script>
    <script type="text/javascript" src="dist/js/d3-funnel.js"></script>
    <script type="text/javascript" src="dist/js/funnelScript2.js"></script>
    <script type="text/javascript" src="dist/js/dropdown.js"></script>

    <!-- For Google signin -->
    <script src="https://apis.google.com/js/platform.js" async defer></script>
    <meta name="google-signin-client_id"
        content="409502799386-6r7ba3thnc8nl7c0fllp88mggvrgth8s.apps.googleusercontent.com">
    <style>
        .abcRioButton.abcRioButtonLightBlue {
            margin: 0 auto;
        }
    </style>


    <script>
        function onSignIn(googleUser) {
            console.log("retet");

            // Informing backend
            var id_token = googleUser.getAuthResponse().id_token;
            $.ajax({
                type: "POST",
                cache: false,
                url: "/login",
                data: { "idtoken": id_token }, //ajax parameters
                success: function (result) {
                    // if (result == "Accepted") {
                    //     window.location.replace("http://localhost:5000/table");
                    // }
                    console.log(result)
                    console.log("successfully sent");
                }
            });


        }

    </script>


    <script>
        function signOut() {
            var auth2 = gapi.auth2.getAuthInstance();
            auth2.signOut().then(function () {
                $.ajax({
                    type: "GET",
                    cache: false,
                    url: "/logout",
                    data: {}, //ajax parameters
                    success: function (result) {
                        console.log('User signed out.');
                    }
                });

            });
        }
    </script>
    <!-- Google sign in scripts end -->

</head>

<body>

    <h1 style="text-align: center; font-size:30px">The Dashboard
        <small>Beta</small>
    </h1>



    <div id="loginButton" class="g-signin2" data-onsuccess="onSignIn" data-theme="light" data-width="300"
        data-height="50" data-longtitle="true"></div>
    <a href="#" onclick="signOut();">Sign out</a>




    {% block main %}{% endblock %}



</body>

</html>