<!DOCTYPE html>
<html>
<head>
	<title></title>
</head>
<body>
	<form>
		  <select id="ddl0" onchange="popCompany(this, document.getElementById('ddl1'), document.getElementById('ddl2'), document.getElementById('ddl3'))">
		    <option value="">All recruiters</option>
		    <option value="Hema Negi">Hema Negi</option>
		    <option value="Janushi shah">Janushi shah</option>
		    <option value="Prerna gera">Prerna gera</option>
		  </select>
		  <br>
		  <select id="ddl1" onchange="popDept(document.getElementById('ddl0'), this,document.getElementById('ddl2'), document.getElementById('ddl3'))">
		    <option value="">Pick First Option</option>
		    <option value="Flock">Flock</option>
		    <option value="Radix">Radix</option>
		    <option value="Codechef">Codechef</option>
		  </select>
		  <br>
		  <select id="ddl2" onchange="popPost(document.getElementById('ddl0'),document.getElementById('ddl1'),  this, document.getElementById('ddl3'))">
		  </select>
		  <br>
		  <select id="ddl3">
		  </select>
	</form>

<script type="text/javascript">
	var dataShit = [
	  {
	    'company': 'Flock',
	    'dept': 'Software Engineering',
	    'post': 'Backend developer',
	    'recruiter': 'Hema Negi'
	  },
	  {
	    'company': 'Flock',
	    'dept': 'Product development',
	    'post': 'Product engineer',
	    'recruiter': 'Hema Negi'
	  },
	  {
	    'company': 'Flock',
	    'dept': 'Product development',
	    'post': 'Assosiate product manager',
	    'recruiter': 'Hema Negi'
	  },
	  {
	    'company': 'Radix',
	    'dept': 'Software Engineering',
	    'post': 'Frontend engineer',
	    'recruiter': 'Janushi shah'
	  },
	  {
	    'company': 'Radix',
	    'dept': 'Software Engineering',
	    'post': 'Backend engineer',
	    'recruiter': 'Janushi shah'
	  },
	  {
	    'company': 'Codechef',
	    'dept': 'Software Engineering',
	    'post': 'Frontend engineer',
	    'recruiter': 'Prerna gera'
	  },
	  {
	    'company': 'Codechef',
	    'dept': 'Marketing',
	    'post': 'Sales engineer',
	    'recruiter': 'Prerna gera'
	  },
	];

var myNestedVals = {
        '1': {
            '1.1': ['1.1.1', '1.1.2', '1.1.3'],
            '1.2': ['1.2.1', '1.2.2', '1.2.3'],
            '1.3': ['1.3.1', '1.3.2', '1.3.3']
        },
        '2': {
            '2.1': ['2.1.1', '2.1.2', '2.1.3'],
            '2.2': ['2.2.1', '2.2.2', '2.2.3'],
            '2.3': ['2.3.1', '2.3.2', '2.3.3']
        },
        '3': {
            '3.1': ['3.1.1', '3.1.2', '3.1.3'],
            '3.2': ['3.2.1', '3.2.2', '3.2.3'],
            '3.3': ['3.3.1', '3.3.2', '3.3.3']
        }
    }

    function createOption(ddl, text, value) {
        var opt = document.createElement('option');
        opt.value = value;
        opt.text = text;
        ddl.options.add(opt);
    }

    function createOptions(optionsArray, ddl) {
        for (i = 0; i < optionsArray.length; i++) {
            createOption(ddl, optionsArray[i], optionsArray[i]);
        }
    }

    function popCompany(ddl0, ddl1, ddl2, ddl3) {
    	ddl1.options.length = 0;
        ddl2.options.length = 0;
        ddl3.options.length = 0;
        createOption(ddl1, "Choose", "");
        
        const setOne = new Set();
        for(let i = 0; i < dataShit.length; i++) {
          if(!setOne.has(dataShit[i]['company'])) {
          	if(dataShit[i]['recruiter'] == ddl0.value) {
          		setOne.add(dataShit[i]['company']);
	            createOption(ddl1, dataShit[i]['company'], dataShit[i]['company']);
	          }
          }
          
        }
    }

    function popDept(ddl0, ddl1, ddl2, ddl3) {
        ddl2.options.length = 0;
        ddl3.options.length = 0;
        createOption(ddl2, "Choose", "");
        
        const setTwo = new Set();
        for(let i = 0; i < dataShit.length; i++) {
          if(!setTwo.has(dataShit[i]['dept'])) {
          	if(dataShit[i]['recruiter'] == ddl0.value && dataShit[i]['company'] == ddl1.value) {
          		setTwo.add(dataShit[i]['dept']);
            	createOption(ddl2, dataShit[i]['dept'], dataShit[i]['dept']);
          }
          }
        }
    }

    function popPost(ddl0, ddl1, ddl2, ddl3) {
        ddl3.options.length = 0;
        createOption(ddl3, "Pick 3rd Option", "");
        
        const setThree = new Set();
        for(let i = 0; i < dataShit.length; i++) {
          if(!setThree.has(dataShit[i]['post'])) {
          	if(dataShit[i]['recruiter'] == ddl0.value && dataShit[i]['company'] == ddl1.value && dataShit[i]['dept'] == ddl2.value) {
          		setThree.add(dataShit[i]['post']);
            	createOption(ddl3, dataShit[i]['post'], dataShit[i]['post']);
          }
          }
          
        }
    }

    function configureDDL2(ddl1, ddl2, ddl3) {
        ddl2.options.length = 0;
        ddl3.options.length = 0;
        createOption(ddl2, "Pick 2nd Option", "");
        var ddl2keys = Object.keys(myNestedVals[ddl1.value]);
        createOptions(ddl2keys, ddl2)
    }

    function configureDDL3(ddl1, ddl2, ddl3) {
        ddl3.options.length = 0;
        createOption(ddl3, "Pick 3rd Option", "");
        var ddl3keys = myNestedVals[ddl1.value][ddl2.value];
        createOptions(ddl3keys, ddl3);
    }
</script>
</body>
</html>